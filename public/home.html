<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resort Booking ‚Äì Trang ch·ªß</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      overflow-x: hidden;
    }

    /* ====== Navbar v·ªõi Glassmorphism ====== */
    .navbar {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.18);
      animation: slideDown 0.6s ease-out;
    }

    @keyframes slideDown {
      from {
        transform: translateY(-100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .navbar-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 16px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .navbar-logo h1 {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 28px;
      font-weight: 800;
      margin: 0;
      cursor: pointer;
      letter-spacing: -0.5px;
    }

    .navbar-menu {
      display: flex;
      align-items: center;
      gap: 30px;
    }

    .navbar-menu a {
      color: #2d3748;
      text-decoration: none;
      font-weight: 600;
      font-size: 15px;
      transition: all 0.3s ease;
      position: relative;
    }

    .navbar-menu a:not(.btn-login):not(.btn-register):hover {
      color: #667eea;
    }

    .navbar-menu a:not(.btn-login):not(.btn-register)::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transition: width 0.3s ease;
    }

    .navbar-menu a:not(.btn-login):not(.btn-register):hover::after {
      width: 100%;
    }

    .navbar-menu .btn-login {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 10px 24px;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .navbar-menu .btn-login:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .navbar-menu .btn-register {
      background: white;
      color: #667eea;
      padding: 10px 24px;
      border-radius: 12px;
      font-weight: 600;
      border: 2px solid #667eea;
      transition: all 0.3s ease;
    }

    .navbar-menu .btn-register:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
    }

    .user-menu {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .user-profile-link {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #2d3748;
      text-decoration: none;
      padding: 10px 18px;
      border-radius: 12px;
      transition: all 0.3s ease;
      background: rgba(102, 126, 234, 0.1);
    }

    .user-profile-link:hover {
      background: rgba(102, 126, 234, 0.2);
      transform: translateY(-2px);
    }

    .btn-logout {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
    }

    .btn-logout:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
    }

    /* ====== Hero Section v·ªõi Parallax Effect ====== */
    .search-container {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%),
                  url('Assets/Icon Images/background.webp');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: white;
      padding: 180px 20px 100px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .search-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                  radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    .search-header {
      position: relative;
      z-index: 1;
      margin-bottom: 50px;
      animation: fadeInUp 0.8s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .search-header h2 {
      font-size: 48px;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.2;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    .search-header p {
      font-size: 20px;
      color: rgba(255, 255, 255, 0.95);
      font-weight: 400;
    }

    /* ====== Search Form v·ªõi Card Design ====== */
    .search-form {
      display: flex;
      gap: 16px;
      align-items: flex-end;
      justify-content: center;
      max-width: 900px;
      margin: 0 auto;
      flex-wrap: nowrap;
      position: relative;
      z-index: 1;
      animation: fadeInUp 1s ease-out 0.2s both;
    }

    .search-form label {
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1 1 0;
      min-width: 0;
    }

    .search-form label span {
      font-size: 14px;
      font-weight: 600;
      color: white;
      text-align: left;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .search-form label input,
    .search-form label select {
      width: 100%;
      padding: 16px 18px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 16px;
      font-size: 15px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      color: #2d3748;
      transition: all 0.3s ease;
      height: 56px;
      font-weight: 500;
    }

    .search-form label input::placeholder {
      color: #a0aec0;
    }

    .search-form label input:focus,
    .search-form label select:focus {
      outline: none;
      border-color: white;
      background: white;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      transform: translateY(-2px);
    }

    .search-form .search-btn-icon {
      flex: 0 0 auto;
      width: 56px;
      height: 56px;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 16px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      border: none;
      font-size: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
    }

    .search-form .search-btn-icon:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 35px rgba(245, 87, 108, 0.6);
    }

    /* Location suggestions */
    .location-search-container {
      position: relative;
      width: 100%;
    }

    #locationSuggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: none;
      border-radius: 12px;
      max-height: 250px;
      overflow-y: auto;
      display: none;
      z-index: 100;
      margin-top: 8px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
    }

    #locationSuggestions.show {
      display: block;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .suggestion-item {
      padding: 14px 18px;
      cursor: pointer;
      border-bottom: 1px solid #f0f0f0;
      transition: all 0.2s ease;
      color: #2d3748;
      font-weight: 500;
    }

    .suggestion-item:hover {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      padding-left: 24px;
    }

    .suggestion-item:last-child {
      border-bottom: none;
    }

    /* ====== Resorts Section ====== */
    .resorts {
      max-width: 1400px;
      margin: 60px auto;
      padding: 0 40px;
    }

    .resort-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
    }

    .resort-link {
      display: block;
      text-decoration: none;
      color: inherit;
      outline: none;
    }

    .resort-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
    }

    .resort-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: 1;
      pointer-events: none;
    }

    .resort-card:hover::before {
      opacity: 1;
    }

    .resort-link:focus .resort-card,
    .resort-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 20px 50px rgba(102, 126, 234, 0.25);
    }

    .resort-card img {
      width: 100%;
      height: 240px;
      object-fit: cover;
      transition: transform 0.6s ease;
    }

    .resort-card:hover img {
      transform: scale(1.1);
    }

    .resort-info {
      padding: 24px;
      position: relative;
      z-index: 2;
    }

    .resort-info h3 {
      margin: 0 0 12px;
      font-size: 20px;
      color: #2d3748;
      font-weight: 700;
    }

    .resort-info p {
      margin: 8px 0;
      color: #718096;
      font-size: 15px;
      display: flex;
      align-items: center;
      font-weight: 500;
    }

    .resort-info .price {
      margin-top: 16px;
      font-weight: 600;
      color: #2d3748;
    }

    .resort-info .price span {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 22px;
      font-weight: 800;
    }

    .fa-map-marker-alt {
      color: #f5576c;
      margin-right: 8px;
      font-size: 14px;
    }

    /* ====== Promo Section ====== */
    .promo-codes {
      position: relative;
      overflow: hidden;
      max-width: 1400px;
      margin: 80px auto;
      padding: 0 40px;
    }

    .promo-codes h2 {
      font-size: 32px;
      color: #2d3748;
      font-weight: 800;
      margin-bottom: 40px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .promo-grid {
      display: flex;
      gap: 24px;
      overflow: auto;
      scroll-behavior: smooth;
      -ms-overflow-style: none;
      scrollbar-width: none;
      padding: 8px 0;
    }

    .promo-grid::-webkit-scrollbar {
      display: none;
    }

    .promo-card {
      background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      padding: 28px;
      flex: 0 0 380px;
      min-width: 380px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .promo-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.2);
      border-color: rgba(102, 126, 234, 0.3);
    }

    .promo-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      font-size: 18px;
      margin-bottom: 12px;
      font-weight: 700;
      color: #2d3748;
    }

    .promo-icon {
      font-size: 28px;
      flex-shrink: 0;
    }

    .promo-desc {
      font-size: 15px;
      color: #718096;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .promo-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 2px solid #e2e8f0;
      padding-top: 16px;
    }

    .promo-code {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      color: #667eea;
      font-weight: 800;
      padding: 10px 16px;
      border-radius: 12px;
      font-size: 16px;
      border: 2px dashed #667eea;
    }

    .copy-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .copy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
    }

    .promo-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: white;
      border: none;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .promo-arrow:hover {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      transform: translateY(-50%) scale(1.1);
    }

    .promo-arrow.left { left: 0; }
    .promo-arrow.right { right: 0; }

    /* ====== Deals Section ====== */
    .deals-section {
      max-width: 1400px;
      margin: 80px auto;
      padding: 60px 40px;
      background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
      border-radius: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
    }

    .deals-section h2 {
      font-size: 32px;
      margin-bottom: 40px;
      text-align: center;
      color: #2d3748;
      font-weight: 800;
    }

    /* ====== Popular Destinations ====== */
    .popular-destinations {
      max-width: 1400px;
      margin: 80px auto;
      padding: 0 40px;
      text-align: center;
    }

    .popular-destinations h2 {
      font-size: 32px;
      color: #2d3748;
      font-weight: 800;
      margin-bottom: 40px;
    }

    .destination-grid {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 24px;
    }

    .destination-card {
      width: 220px;
      border-radius: 20px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      position: relative;
    }

    .destination-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .destination-card:hover::after {
      opacity: 1;
    }

    .destination-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.2);
    }

    .destination-card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .destination-card:hover img {
      transform: scale(1.1);
    }

    .destination-card p {
      padding: 16px;
      font-weight: 700;
      color: #2d3748;
      position: relative;
      z-index: 1;
    }

    /* ====== Why Choose Us ====== */
    .why-choose-us {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      max-width: 1400px;
      margin: 80px auto;
      padding: 80px 40px;
      text-align: center;
      border-radius: 40px;
      color: white;
      box-shadow: 0 20px 60px rgba(102, 126, 234, 0.3);
    }

    .why-choose-us h2 {
      font-size: 36px;
      margin-bottom: 60px;
      font-weight: 800;
    }

    .why-choose-us .reasons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 60px;
    }

    .reason {
      max-width: 280px;
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      padding: 40px 30px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .reason:hover {
      transform: translateY(-10px);
      background: rgba(255, 255, 255, 0.2);
    }

    .reason img {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
      filter: brightness(0) invert(1);
    }

    .reason h4 {
      font-size: 20px;
      margin-bottom: 12px;
      font-weight: 700;
    }

    .reason p {
      font-size: 15px;
      line-height: 1.6;
      opacity: 0.95;
    }

    /* ====== Footer ====== */
    footer {
      background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
      color: #ffffff;
      text-align: center;
      padding: 60px 40px 30px;
      font-size: 15px;
      margin-top: 80px;
    }

    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    footer p {
      margin: 0;
      font-weight: 400;
      color: #cbd5e0;
    }

    footer p span {
      color: #ffffff;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .footer-links {
      margin-top: 30px;
      margin-bottom: 30px;
    }

    .footer-links a {
      color: #cbd5e0;
      text-decoration: none;
      margin: 0 15px;
      transition: all 0.3s ease;
      font-size: 15px;
      font-weight: 500;
    }

    .footer-links a:hover {
      color: #ffffff;
      transform: translateY(-2px);
    }

    .footer-links span {
      color: #4a5568;
    }

    .footer-social p {
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 20px;
      font-size: 16px;
    }

    .social-icons {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 40px;
    }

    .social-icons a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 48px;
      height: 48px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .social-icons img {
      width: 24px;
      height: 24px;
      filter: brightness(0) invert(1);
    }

    .social-icons a:hover {
      transform: translateY(-4px) scale(1.1);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: transparent;
    }

    /* ====== Pagination ====== */
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 60px;
      gap: 12px;
    }

    .page-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 48px;
      height: 48px;
      padding: 0 16px;
      border: 2px solid #e2e8f0;
      border-radius: 14px;
      background-color: #ffffff;
      color: #718096;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .page-btn:hover:not(:disabled) {
      border-color: #667eea;
      color: #667eea;
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
    }

    .page-btn:disabled {
      background-color: #f7fafc;
      cursor: not-allowed;
      opacity: 0.5;
    }

    .page-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      border-color: transparent;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    }

    /* ====== Responsive Design ====== */
    @media (max-width: 1200px) {
      .promo-arrow { display: none; }
      .resort-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .navbar-container {
        padding: 12px 20px;
      }

      .navbar-menu {
        gap: 15px;
        font-size: 13px;
      }

      .search-header h2 {
        font-size: 32px;
      }

      .search-form {
        flex-direction: column;
        gap: 16px;
        padding: 0 20px;
      }

      .search-form label {
        width: 100%;
      }

      .search-form .search-btn-icon {
        width: 100%;
        height: 56px;
      }

      .resort-grid {
        grid-template-columns: 1fr;
        gap: 24px;
      }

      .resorts,
      .promo-codes,
      .deals-section,
      .popular-destinations,
      .why-choose-us {
        padding: 40px 20px;
      }

      .deals-section {
        border-radius: 20px;
      }

      .why-choose-us {
        border-radius: 20px;
      }

      .why-choose-us .reasons {
        gap: 30px;
      }

      .reason {
        max-width: 100%;
      }
    }

    /* ====== Featured Offer Section ====== */
.featured-offer {
    max-width: 1400px;
    margin: 60px auto;
    padding: 0 40px;
}

.featured-offer-container {
    display: flex;
    align-items: center;
    gap: 40px;
    background: linear-gradient(135deg, #f8f9ff 0%, #eef2ff 100%);
    border-radius: 30px;
    padding: 40px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.07);
    overflow: hidden;
}

.featured-offer-content {
    flex: 1;
    animation: fadeInUp 1s ease-out;
}

.featured-offer-content h2 {
    font-size: 32px;
    font-weight: 800;
    color: #2d3748;
    margin-bottom: 16px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.featured-offer-content p {
    font-size: 16px;
    color: #4a5568;
    line-height: 1.7;
    margin-bottom: 30px;
}

.btn-explore {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 14px 32px;
    border-radius: 12px;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    display: inline-block;
}

.btn-explore:hover {
    transform: translateY(-3px);
    box-shadow: 0 7px 25px rgba(102, 126, 234, 0.6);
}

.featured-offer-image {
    flex: 1;
    max-width: 500px;
}

.featured-offer-image img {
    width: 100%;
    height: auto;
    border-radius: 20px;
    object-fit: cover;
    transform: scale(1.05);
    transition: transform 0.5s ease;
}

.featured-offer-container:hover .featured-offer-image img {
    transform: scale(1.15);
}

/* Responsive cho banner */
@media (max-width: 768px) {
    .featured-offer-container {
        flex-direction: column-reverse; /* ƒê∆∞a ·∫£nh l√™n tr√™n tr√™n mobile */
        padding: 20px;
    }
    .featured-offer-content {
        text-align: center;
    }
}

/* ====== About Us Section ====== */
.about-us {
    max-width: 1400px;
    margin: 80px auto;
    padding: 60px 40px;
}

.about-us-container {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 60px;
    align-items: center;
}

.about-us-image img {
    width: 100%;
    border-radius: 20px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
}

.about-us-content h2 {
    font-size: 32px;
    color: #2d3748;
    font-weight: 800;
    margin-bottom: 20px;
}

.about-us-content p {
    font-size: 16px;
    color: #4a5568;
    line-height: 1.8;
    margin-bottom: 20px;
}

/* Responsive cho About Us */
@media (max-width: 768px) {
    .about-us-container {
        grid-template-columns: 1fr;
    }
}
  </style>
</head>
<body>
  <header class="navbar">
    <div class="navbar-container">
      <div class="navbar-logo">
    <a href="home.html" style="text-decoration: none;">
        <h1>Resort Booking</h1>
    </a>
</div>
      <nav class="navbar-menu">
        <a href="">Khuy·∫øn m√£i</a>
        <a href="supports/support.html">H·ªó tr·ª£</a>
        <a href="">H·ª£p t√°c v·ªõi ch√∫ng t√¥i</a>
        <a href="my_bookings.html">ƒê·∫∑t ch·ªó c·ªßa t√¥i</a>
        <a href="login.html" class="btn-login">ƒêƒÉng nh·∫≠p</a>
        <a href="register.html" class="btn-register">ƒêƒÉng k√Ω</a>
      </nav>
    </div>
  </header>

  <div class="search-container">
    <div class="search-header">
      <h2>T√¨m resort ho√†n h·∫£o cho k·ª≥ ngh·ªâ c·ªßa b·∫°n</h2>
      <p>T·∫≠n h∆∞·ªüng nh·ªØng ∆∞u ƒë√£i t·ªët nh·∫•t cho k·ª≥ ngh·ªâ trong m∆° c·ªßa b·∫°n</p>
    </div>
   
    <div class="search-instructions"></div>
    <section class="search-form">
      <label>
        <span>ƒê·ªãa ƒëi·ªÉm</span>
        <div class="location-search-container">
          <input
            type="text"
            id="location"
            placeholder="Nh·∫≠p t√™n ƒë·ªãa ƒëi·ªÉm ho·∫∑c resort"
            autocomplete="off"
          />
          <div id="locationSuggestions" class="suggestions-dropdown"></div>
        </div>
      </label>
      <label>
        <span>Lo·∫°i ph√≤ng</span>
        <select id="roomType">
            <option value="">T·∫•t c·∫£ lo·∫°i ph√≤ng</option>
        </select>
      </label>
      <button id="searchBtn" class="search-btn-icon" title="T√¨m ki·∫øm">
         <i class="fas fa-search"></i>
      </button>
    </section>
  </div>

  <section class="featured-offer">
    <div class="featured-offer-container">
        <div class="featured-offer-content">
            <h2>∆Øu ƒê√£i M√πa H√® R·ª±c R·ª°!</h2>
            <p>
                ƒê·ª´ng b·ªè l·ª° c∆° h·ªôi t·∫≠n h∆∞·ªüng k·ª≥ ngh·ªâ t·∫°i Ph√∫ Qu·ªëc v·ªõi ∆∞u ƒë√£i gi·∫£m gi√° l√™n ƒë·∫øn 40%
                khi ƒë·∫∑t ph√≤ng tr∆∞·ªõc ng√†y 30/11. Kh√°m ph√° v·∫ª ƒë·∫πp c·ªßa bi·ªÉn xanh, c√°t tr·∫Øng, n·∫Øng v√†ng!
            </p>
            <a href="#" class="btn-explore">Kh√°m Ph√° Ngay</a>
        </div>
        <div class="featured-offer-image">
            <img src="uploads/andreas-m-Fi_7T4Bl95g-unsplash.jpg" alt="∆Øu ƒë√£i m√πa h√® Ph√∫ Qu·ªëc">
    </div>
</section>

  <section class="resorts">
    <div style="text-align: center; margin-bottom: 40px;">
    <h2 style="font-size: 32px; color: #2d3748; font-weight: 800; margin-bottom: 12px;">
        Kh√°m Ph√° Thi√™n ƒê∆∞·ªùng Ngh·ªâ D∆∞·ª°ng
    </h2>
    <p style="font-size: 18px; color: #718096; max-width: 700px; margin: 0 auto;">
        Ch√∫ng t√¥i ƒë√£ l·ª±a ch·ªçn c·∫©n th·∫≠n nh·ªØng resort h√†ng ƒë·∫ßu, mang ƒë·∫øn cho b·∫°n tr·∫£i nghi·ªám
        ƒë·∫≥ng c·∫•p v√† nh·ªØng k·ª∑ ni·ªám kh√≥ phai.
    </p>
</div>
      <div id="room-cards-container" class="resort-grid"></div>
      <div id="pagination-container" class="pagination"></div>
  </section>

  <section class="promo-codes">
    <h2><span class="icon">üéÅ</span> M√£ ∆Øu ƒê√£i T·∫∑ng B·∫°n M·ªõi</h2>
    <button class="promo-arrow left" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
    <div class="promo-grid" id="promoGrid"></div>
    <button class="promo-arrow right" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
  </section>

  <section class="deals-section">
    <h2>∆Øu ƒë√£i n·ªïi b·∫≠t</h2>
    <div class="resort-grid" id="dealsGrid"></div>
  </section>

  <section class="popular-destinations">
    <h2>ƒêi·ªÉm ƒë·∫øn ph·ªï bi·∫øn</h2>
    <div class="destination-grid" id="destinationGrid"></div>
  </section>

  <section class="about-us">
    <div class="about-us-container">
        <div class="about-us-image">
            <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=2070&auto=format&fit=crop" alt="V·ªÅ ch√∫ng t√¥i">
        </div>
        <div class="about-us-content">
            <h2>C√¢u Chuy·ªán V·ªÅ Resort Booking</h2>
            <p>
                ƒê∆∞·ª£c th√†nh l·∫≠p b·ªüi nh·ªØng ng∆∞·ªùi c√≥ ni·ªÅm ƒëam m√™ du l·ªãch m√£nh li·ªát, Resort Booking
                ra ƒë·ªùi v·ªõi s·ª© m·ªánh k·∫øt n·ªëi b·∫°n v·ªõi nh·ªØng k·ª≥ ngh·ªâ trong m∆° m·ªôt c√°ch ƒë∆°n gi·∫£n v√†
                ti·ªán l·ª£i nh·∫•t. Ch√∫ng t√¥i tin r·∫±ng m·ªói chuy·∫øn ƒëi kh√¥ng ch·ªâ l√† vi·ªác thay ƒë·ªïi
                ƒë·ªãa ƒëi·ªÉm, m√† c√≤n l√† c∆° h·ªôi ƒë·ªÉ l√†m m·ªõi t√¢m h·ªìn v√† t·∫°o ra nh·ªØng k·ª∑ ni·ªám tr·ªçn ƒë·ªùi.
            </p>
            <p>
                T·ª´ nh·ªØng resort sang tr·ªçng b√™n b·ªù bi·ªÉn ƒë·∫øn nh·ªØng bi·ªát th·ª± ·∫©n m√¨nh gi·ªØa n√∫i r·ª´ng,
                h·ªá th·ªëng c·ªßa ch√∫ng t√¥i lu√¥n s·∫µn s√†ng ƒë√°p ·ª©ng m·ªçi nhu c·∫ßu c·ªßa b·∫°n v·ªõi m·ª©c gi√° t·ªët nh·∫•t.
            </p>
        </div>
    </div>
</section>

  <section class="why-choose-us">
    <h2>V√¨ sao n√™n ch·ªçn Resort Booking?</h2>
    <div class="reasons">
      <div class="reason">
        <img src="Assets/Icon Images/thumbs-up.png" alt="ƒê·∫∑t ph√≤ng d·ªÖ d√†ng">
        <h4>ƒê·∫∑t ch·ªó d·ªÖ d√†ng</h4>
        <p>Ch·ªâ v√†i b∆∞·ªõc ƒë∆°n gi·∫£n ƒë·ªÉ ho√†n t·∫•t ƒë·∫∑t ph√≤ng c·ªßa b·∫°n.</p>
      </div>
      <div class="reason">
        <img src="Assets/Icon Images/voucher.png" alt="∆Øu ƒë√£i h·∫•p d·∫´n">
        <h4>∆Øu ƒë√£i h·∫•p d·∫´n</h4>
        <p>Gi√° t·ªët nh·∫•t m·ªói ng√†y d√†nh cho kh√°ch h√†ng th√¢n thi·∫øt.</p>
      </div>
      <div class="reason">
        <img src="Assets/Icon Images/customer-service.png" alt="H·ªó tr·ª£ 24/7">
        <h4>H·ªó tr·ª£ 24/7</h4>
        <p>ƒê·ªôi ng≈© CSKH s·∫µn s√†ng h·ªó tr·ª£ b·∫°n m·ªçi l√∫c, m·ªçi n∆°i.</p>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-container">
      <div class="footer-links">
        <a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
        <span>|</span>
        <a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
        <span>|</span>
        <a href="#">Li√™n h·ªá</a>
      </div>
      <div class="footer-social">
        <p>Theo d√µi ch√∫ng t√¥i</p>
        <div class="social-icons">
          <a href="#"><img src="Assets/Icon Images/facebook.png" alt="Facebook"></a>
          <a href="#"><img src="Assets/Icon Images/instagram.png" alt="Instagram"></a>
          <a href="#"><img src="Assets/Icon Images/communication.png" alt="Telegram"></a>
          <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/3046/3046126.png" alt="TikTok"></a>
        </div>
      </div>
      <br/>
      <p>¬© 2025 <span>Resort Booking</span>. All rights reserved.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/vn.js"></script>
  <script src="voucher.js"></script>
  <script src="destinations.js"></script>

  <script>
  document.addEventListener('DOMContentLoaded', async () => {
      let allRooms = [];
      let currentPage = 1;
      const itemsPerPage = 6;
      const API_BASE = "http://localhost:5500";

      function resolveImageUrl(url) {
        if (!url) return 'Assets/placeholder.jpg';
        if (/^https?:\/\//i.test(url)) return url;
        if (url.startsWith('/')) return API_BASE + url;
        return API_BASE + '/uploads/' + url;
      }

      function getLocationName(key) {
          const locationMap = { 'da-lat': 'ƒê√† L·∫°t', 'ha-long': 'H·∫° Long', 'phu-quoc': 'Ph√∫ Qu·ªëc', 'nha-trang': 'Nha Trang', 'da-nang': 'ƒê√† N·∫µng', 'sapa': 'Sapa', 'hoi-an': 'H·ªôi An', 'ha-noi': 'H√† N·ªôi', 'sai-gon': 'S√†i G√≤n' };
          return locationMap[key] || key || 'Kh√¥ng x√°c ƒë·ªãnh';
      }

      async function fetchRooms() {
          try {
              const response = await fetch(`${API_BASE}/api/rooms`);
              if (!response.ok) throw new Error('Network response was not ok');
              allRooms = await response.json();
              populateRoomTypes();
          } catch (error) {
              console.error('L·ªói khi l·∫•y d·ªØ li·ªáu ph√≤ng:', error);
              allRooms = [];
          }
      }

      // Populate room types dropdown
      function populateRoomTypes() {
          const roomTypeSelect = document.getElementById('roomType');
          const uniqueRoomTypes = [...new Set(allRooms.map(room => room.room_type))];
         
          uniqueRoomTypes.forEach(roomType => {
              if (roomType) {
                  const option = document.createElement('option');
                  option.value = roomType;
                  option.textContent = roomType;
                  roomTypeSelect.appendChild(option);
              }
          });
      }

      // Location search with suggestions
      const locationInput = document.getElementById('location');
      const suggestionsList = document.getElementById('locationSuggestions');

      locationInput.addEventListener('input', (e) => {
          const searchTerm = e.target.value.toLowerCase().trim();

          if (!searchTerm) {
              suggestionsList.classList.remove('show');
              return;
          }

          // L·∫•y t·∫•t c·∫£ ƒë·ªãa ƒëi·ªÉm + t√™n resort t·ª´ d·ªØ li·ªáu
          const suggestions = new Set();
          allRooms.forEach(room => {
              if (room.location) {
                  suggestions.add(getLocationName(room.location));
              }
              if (room.resort_name && room.resort_name.toLowerCase().includes(searchTerm)) {
                  suggestions.add(room.resort_name);
              }
          });

          // Filter suggestions theo search term
          const filtered = Array.from(suggestions).filter(item =>
              item.toLowerCase().includes(searchTerm)
          );

          if (filtered.length === 0) {
              suggestionsList.classList.remove('show');
              return;
          }

          // Display suggestions
          suggestionsList.innerHTML = filtered.map(item =>
              `<div class="suggestion-item">${item}</div>`
          ).join('');
          suggestionsList.classList.add('show');

          // Add click event to suggestions
          document.querySelectorAll('.suggestion-item').forEach(item => {
              item.addEventListener('click', () => {
                  locationInput.value = item.textContent;
                  suggestionsList.classList.remove('show');
              });
          });
      });

      // Close suggestions when clicking outside
      document.addEventListener('click', (e) => {
          if (e.target !== locationInput) {
              suggestionsList.classList.remove('show');
          }
      });

      function renderRooms(roomsToDisplay) {
        const container = document.getElementById("room-cards-container");
        if (!container) return;
        container.innerHTML = "";

        if (!roomsToDisplay || roomsToDisplay.length === 0) {
            container.innerHTML = '<p style="text-align: center; width: 100%; padding: 2rem 0;">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ ph√π h·ª£p.</p>';
            return;
        }

        roomsToDisplay.forEach((room) => {
          const card = document.createElement("a");
          card.className = "resort-link";
          card.href = `resort_detail.html?id=${room.id}`;

          const formattedPrice = new Intl.NumberFormat("vi-VN", { style: "currency", currency: "VND" }).format(room.price_per_night);
          const imageUrl = resolveImageUrl(room.images?.[0]);

          card.innerHTML = `
            <div class="resort-card">
              <img src="${imageUrl}" alt="${room.resort_name || room.room_type}">
              <div class="resort-info">
                  <h3>${room.resort_name || room.room_type}</h3>
                  <p><i class="fas fa-map-marker-alt"></i> ${getLocationName(room.location)}</p>
                  <p class="price">T·ª´ : <span>${formattedPrice}/ƒë√™m</span></p>
              </div>
            </div>
          `;
          container.appendChild(card);
        });
      }

      function renderRoomsForCurrentPage() {
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const roomsToRender = allRooms.slice(startIndex, endIndex);
        renderRooms(roomsToRender);
      }

      function renderPagination() {
          const paginationContainer = document.getElementById('pagination-container');
          if (!paginationContainer) return;
          paginationContainer.innerHTML = '';
          const totalPages = Math.ceil(allRooms.length / itemsPerPage);
          if (totalPages <= 1) {
              paginationContainer.style.display = 'none';
              return;
          };
          paginationContainer.style.display = 'flex';

          const prevButton = document.createElement('button');
          prevButton.className = 'page-btn';
          prevButton.innerHTML = `<i class="fas fa-chevron-left"></i>`;
          if (currentPage === 1) prevButton.disabled = true;
          prevButton.addEventListener('click', () => {
              if (currentPage > 1) {
                  currentPage--;
                  renderRoomsForCurrentPage();
                  renderPagination();
                  document.getElementById('room-cards-container').scrollIntoView({ behavior: 'smooth' });
              }
          });
          paginationContainer.appendChild(prevButton);

          for (let i = 1; i <= totalPages; i++) {
              const pageButton = document.createElement('button');
              pageButton.className = 'page-btn';
              pageButton.textContent = i;
              if (i === currentPage) pageButton.classList.add('active');
              pageButton.addEventListener('click', () => {
                  currentPage = i;
                  renderRoomsForCurrentPage();
                  renderPagination();
                  document.getElementById('room-cards-container').scrollIntoView({ behavior: 'smooth' });
              });
              paginationContainer.appendChild(pageButton);
          }

          const nextButton = document.createElement('button');
          nextButton.className = 'page-btn';
          nextButton.innerHTML = `<i class="fas fa-chevron-right"></i>`;
          if (currentPage === totalPages) nextButton.disabled = true;
          nextButton.addEventListener('click', () => {
              if (currentPage < totalPages) {
                  currentPage++;
                  renderRoomsForCurrentPage();
                  renderPagination();
                  document.getElementById('room-cards-container').scrollIntoView({ behavior: 'smooth' });
              }
          });
          paginationContainer.appendChild(nextButton);
      }
     
      const token = localStorage.getItem('token');
      const role = localStorage.getItem('role');
      if (token && (role === 'admin' || role === 'staff')) {
          window.location.href = '/admin/index.html';
          return;
      }

      await fetchRooms();
      renderRoomsForCurrentPage();
      renderPagination();

      const dealsContainer = document.getElementById('dealsGrid');
      if(dealsContainer){
          dealsContainer.innerHTML = '';
          allRooms.slice(0, 3).forEach(room => {
              const link = document.createElement('a');
              link.className = 'resort-link';
              link.href = `resort_detail.html?id=${room.id}`;
              const formattedPrice = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(room.price_per_night);
              const imageUrl = resolveImageUrl(room.images?.[0]);
              link.innerHTML = `
                  <div class="resort-card">
                    <img src="${imageUrl}" alt="${room.resort_name || room.room_type}">
                    <div class="resort-info">
                        <h3>${room.resort_name || room.room_type}</h3>
                        <p><i class="fas fa-map-marker-alt"></i> ${getLocationName(room.location)}</p>
                        <p class="price">T·ª´: <span> ${formattedPrice}/ƒë√™m</span></p>
                    </div>
                  </div>`;
              dealsContainer.appendChild(link);
          });
      }

      // Search functionality
      document.getElementById('searchBtn').addEventListener('click', () => {
          const locationValue = locationInput.value.toLowerCase().trim();
          const roomTypeValue = document.getElementById('roomType').value;

          const filteredRooms = allRooms.filter(room => {
              const locationName = getLocationName(room.location);
              const matchesLocation = !locationValue ||
                                      locationName.toLowerCase().includes(locationValue) ||
                                      (room.resort_name && room.resort_name.toLowerCase().includes(locationValue));
              const matchesRoomType = !roomTypeValue || room.room_type === roomTypeValue;
              return matchesLocation && matchesRoomType;
          });
         
          document.getElementById('pagination-container').style.display = 'none';
          renderRooms(filteredRooms);
      });

      document.querySelectorAll('.type-btn').forEach(btn => {
          btn.addEventListener('click', () => {
              document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active'));
              btn.classList.add('active');
          });
      });
     
      document.getElementById('nextBtn').onclick = () => document.getElementById('promoGrid').scrollBy({ left: 360, behavior: 'smooth' });
      document.getElementById('prevBtn').onclick = () => document.getElementById('promoGrid').scrollBy({ left: -360, behavior: 'smooth' });

      if (typeof destinations !== 'undefined') {
          destinations.forEach(place => {
              const card = document.createElement('div');
              card.className = 'destination-card';
              card.innerHTML = `
                <img src="${place.image}" alt="${place.name}">
                <p>${place.name}</p>
              `;
              document.getElementById('destinationGrid').appendChild(card);
          });
      }
  });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const navbarMenu = document.querySelector(".navbar-menu");
      const username = localStorage.getItem("username");
      const full_name = localStorage.getItem("full_name");
      const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');

      if (username || full_name || currentUser.id) {
        const displayName = username || full_name || currentUser.username;
       
        navbarMenu.innerHTML = `
          <a href="">Khuy·∫øn m√£i</a>
          <a href="supports/support.html">H·ªó tr·ª£</a>
          <a href="">H·ª£p t√°c v·ªõi ch√∫ng t√¥i</a>
          <a href="my_bookings.html">ƒê·∫∑t ch·ªó c·ªßa t√¥i</a>
          <div class="user-menu">
            <a href="profile.html" class="user-profile-link">
              <span class="avatar-icon">üë§</span>
              <span class="user-name-text">${displayName}</span>
            </a>
            <button id="logoutBtn" class="btn-logout">ƒêƒÉng xu·∫•t</button>
          </div>
        `;
       
        document.getElementById("logoutBtn").addEventListener("click", () => {
          localStorage.clear();
          window.location.href = "login.html";
        });
      }
    });
  </script>
</body>
</html>