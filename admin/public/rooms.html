<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Quáº£n LÃ½ Resort & PhÃ²ng - Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#f5f7fa; color:#374151; }
        .card{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 6px 16px rgba(0,0,0,.06)}
        .btn-primary{background:linear-gradient(90deg,#3b82f6,#2563eb);color:#fff;padding:.5rem 1rem;border-radius:10px;transition:all 0.3s}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(59,130,246,0.4)}
        .btn-secondary{background-color: #e5e7eb; color: #374151; padding: .5rem 1rem; border-radius: 10px; font-weight: 500; transition: all 0.3s;}
        .btn-secondary:hover{background-color: #d1d5db;}
        #room-modal .modal-card{ width:100%; max-width:620px; border-radius:14px; padding:26px; background:#fff; box-shadow:0 12px 40px rgba(2,6,23,.3); max-height: 90vh; overflow-y: auto; }
        .image-preview-item{position:relative;width:60px;height:60px;border-radius:8px;overflow:hidden;margin-right:8px;margin-top: 8px;}
        .image-preview-item img{width:100%;height:100%;object-fit:cover}
        .image-preview-item .remove-image{position:absolute;top:2px;right:2px;background:rgba(239,68,68,.9);color:#fff;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;font-weight:bold}
        .form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}
        .form-row.full{grid-template-columns:1fr}
        .table-responsive{overflow-x:auto}
        .price-badge{background:#e0f2fe;color:#0369a1;padding:0.25rem 0.75rem;border-radius:9999px;font-weight:600;font-size:0.875rem}
        .status-badge{padding:0.25rem 0.75rem;border-radius:9999px;font-weight:600;font-size:0.875rem}
        .error-message{color:#dc2626;font-size:0.875rem;margin-top:0.5rem}
        .success-message{color:#059669;font-size:0.875rem;margin-top:0.5rem}
        .bed-input-hint{color:#6b7280;font-size:0.75rem;margin-top:0.25rem}
        input[type="text"].bed-input{font-size:0.95rem}
    </style>
</head>
<body class="p-8">
    <div class="max-w-7xl mx-auto">
        <div class="flex justify-between items-center mb-6">
            <div class="flex items-center gap-4">
                <button onclick="window.history.back()" class="w-10 h-10 rounded-full flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors" aria-label="Quay láº¡i trang trÆ°á»›c">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-2xl font-bold">ğŸ¨ Quáº£n LÃ½ Resort & PhÃ²ng</h1>
            </div>
            <button class="btn-primary" onclick="openNewResortModal()">+ Táº¡o Resort Má»›i</button>
        </div>
        <div id="resorts-list-container" class="space-y-6">
             <p id="list-message" class="text-center mt-6 text-sm text-gray-500">Äang táº£i danh sÃ¡ch resort...</p>
        </div>
    </div>

    <!-- Modal ThÃªm/Sá»­a PhÃ²ng -->
    <div id="room-modal" class="hidden fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center p-4">
        <div class="modal-card">
            <h3 id="modal-title" class="text-xl font-semibold mb-4">ThÃªm PhÃ²ng Má»›i</h3>
            <form id="room-form">
                <input type="hidden" id="room-id" />
                <input type="hidden" id="resort-id" />
                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">Loáº¡i phÃ²ng</label>
                    <select id="room-type-id" class="w-full border rounded px-3 py-2" required></select>
                </div>
                
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <div>
                        <label class="block text-sm font-medium mb-1">GiÃ¡ má»—i Ä‘Ãªm (VND)</label>
                        <input id="room-price" type="number" min="0" class="w-full border rounded px-3 py-2" placeholder="VÃ­ dá»¥: 1500000" required />
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Loáº¡i hÃ¬nh lÆ°u trÃº</label>
                        <select id="room-category" class="w-full border rounded px-3 py-2">
                            <option value="standard">KhÃ¡ch sáº¡n/TiÃªu chuáº©n</option>
                            <option value="apartment">CÄƒn há»™</option>
                            <option value="villa">Biá»‡t thá»±</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3 mb-3">
                    <div>
                        <label class="block text-sm font-medium mb-1">Cáº¥u hÃ¬nh giÆ°á»ng</label>
                        <select id="num-bed" class="w-full border rounded px-3 py-2">
                            <option value="1 giÆ°á»ng Ä‘Æ¡n">1 GiÆ°á»ng ÄÆ¡n</option>
                            <option value="1 giÆ°á»ng Ä‘Ã´i">1 GiÆ°á»ng ÄÃ´i</option>
                            <option value="2 giÆ°á»ng Ä‘Æ¡n">2 GiÆ°á»ng ÄÆ¡n</option>
                            <option value="2 giÆ°á»ng Ä‘Ã´i">2 GiÆ°á»ng ÄÃ´i</option>
                        </select>
                    </div>
                     <div>
                        <label class="block text-sm font-medium mb-1">Tráº¡ng thÃ¡i</label>
                        <select id="room-status" class="w-full border rounded px-3 py-2">
                            <option value="available">Sáºµn cÃ³</option>
                            <option value="maintenance">Báº£o trÃ¬</option>
                        </select>
                    </div>
                </div>
               
               

                <!-- HÃ ng 4: Vá»‹ trÃ­ & Äá»‹a chá»‰ -->
                <div class="form-row">
                    <div>
                        <label class="block text-sm font-medium mb-1">Vá»‹ trÃ­ *</label>
                        <select id="room-location" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500" required>
                            <option value="">-- Chá»n vá»‹ trÃ­ --</option>
                            <option value="da-lat">ğŸ“ ÄÃ  Láº¡t</option>
                            <option value="ha-long">ğŸ“ Háº¡ Long</option>
                            <option value="phu-quoc">ğŸ“ PhÃº Quá»‘c</option>
                            <option value="nha-trang">ğŸ“ Nha Trang</option>
                            <option value="da-nang">ğŸ“ ÄÃ  Náºµng</option>
                            <option value="sapa">ğŸ“ Sapa</option>
                            <option value="hoi-an">ğŸ“ Há»™i An</option>
                            <option value="ha-noi">ğŸ“ HÃ  Ná»™i</option>
                            <option value="sai-gon">ğŸ“ SÃ i GÃ²n</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Äá»‹a chá»‰ cá»¥ thá»ƒ</label>
                        <input id="room-address" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Khu A, PhÆ°á»ng X..." />
                    </div>
                </div>

                <!-- HÃ ng 5: ThÃ´ng tin chi tiáº¿t -->
                <div class="form-row full">
                    <div>
                        <label class="block text-sm font-medium mb-1">ThÃ´ng tin chi tiáº¿t</label>
                        <textarea id="room-description" rows="3" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="MÃ´ táº£ vá» phÃ²ng, cÃ¡c tiá»‡n Ã­ch Ä‘áº·c biá»‡t..."></textarea>
                    </div>
                </div>

                <!-- HÃ ng 6: HÃ¬nh áº£nh -->
              <div class="form-row full">
    <div>
        <label class="block text-sm font-medium mb-1">HÃ¬nh áº£nh phÃ²ng</label>
        <input id="room-images" type="file" ... />
        <div id="image-preview" class="flex flex-wrap mt-2"></div>

        <p id="image-upload-hint" class="hidden text-sm text-amber-600 mt-2">
            âš ï¸ **LÆ°u Ã½:** Táº£i lÃªn áº£nh má»›i sáº½ **xÃ³a vÃ  thay tháº¿** toÃ n bá»™ áº£nh cÅ©.
        </p>

    </div>
</div>

                <!-- NÃºt hÃ nh Ä‘á»™ng -->
                <div class="flex justify-end items-center space-x-3 mt-6">
                    <button type="button" onclick="closeRoomModal()" class="btn-secondary">âŒ Há»§y</button>
                    <button type="submit" id="modal-submit-btn" class="btn-primary">âœ… ThÃªm PhÃ²ng</button>
                </div>
                <p id="modal-error-message" class="error-message"></p>
                <p id="modal-success-message" class="success-message"></p>
            </form>
        </div>
    </div>

    <script>
    let API_BASE; // DÃ¹ng 'let' thay vÃ¬ 'const'
    
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      // 1. MÃ”I TRÆ¯á»œNG LOCAL
      // (Khi báº¡n cháº¡y file .html tá»« mÃ¡y cá»§a báº¡n)
      API_BASE = 'http://localhost:5500'; // ÄÃ¢y lÃ  backend server.js trÃªn mÃ¡y cá»§a báº¡n
    } else {
      // 2. MÃ”I TRÆ¯á»œNG PRODUCTION
      // (Khi báº¡n Ä‘Ã£ deploy code lÃªn máº¡ng)
      API_BASE = 'https://api-resort.onrender.com'; // ÄÃ¢y lÃ  backend trÃªn OnRender
    }
    
    let ALL_ROOMS = [];
    let ROOM_TYPES = [];
    let currentMode = 'create'; 

    function formatCurrency(value) {
        if (!value || isNaN(value)) return '-';
        const numValue = parseFloat(value);
        return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(numValue);
    }

    async function apiFetch(url, opts = {}) {
        const token = localStorage.getItem("token");
        const headers = { "Authorization": `Bearer ${token}` };
        if (!(opts.body instanceof FormData)) {
            headers['Content-Type'] = 'application/json';
        }
        const res = await fetch(API_BASE + url, { ...opts, headers });
        if (res.status === 204 || res.status === 201) return null;
        const data = await res.json().catch(() => ({}));
        if (!res.ok) throw new Error(data.message || data.error || `HTTP Error ${res.status}`);
        return data;
    }
    
    async function fetchAndRenderAll() {
        const container = document.getElementById('resorts-list-container');
        container.innerHTML = `<p class="text-center text-gray-500">Äang táº£i danh sÃ¡ch...</p>`;
        try {
            const [resorts, rooms] = await Promise.all([
                apiFetch('/api/admin/resorts'),
                apiFetch('/api/admin/rooms')
            ]);
            
            ALL_ROOMS = rooms; 
            container.innerHTML = '';
            if (!resorts.length) {
                container.innerHTML = `<p class="text-center text-gray-500">ChÆ°a cÃ³ resort nÃ o. HÃ£y táº¡o má»™t resort má»›i!</p>`;
                return;
            }
            resorts.forEach(resort => {
                const resortRooms = rooms.filter(room => room.resort_id === resort.id);
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold">ğŸ¨ ${resort.name}</h2>
                        <button class="btn-primary" onclick="openRoomModal('create', ${resort.id})">+ ThÃªm phÃ²ng</button>
                    </div>
                    <div class="table-responsive">
                        <table class="w-full text-sm">
                            <thead><tr class="text-left text-gray-500"><th class="p-2">Háº¡ng phÃ²ng</th><th class="p-2">GiÃ¡</th><th class="p-2">Sá»‘ giÆ°á»ng</th><th class="p-2">Tráº¡ng thÃ¡i</th><th class="p-2">Thao tÃ¡c</th></tr></thead>
                            <tbody>
                                ${resortRooms.length ? resortRooms.map(room => `
                                    <tr class="border-t">
                                        <td class="p-2 font-medium">${room.room_type}</td>
                                        <td class="p-2">${formatCurrency(room.price_per_night)}</td> 
                                        <td class="p-2">${room.num_bed || '-'}</td>
                                        <td class="p-2">${room.status}</td>
                                        <td class="p-2">
                                            <button class="text-blue-600 hover:underline" onclick='openRoomModal("edit", ${room.resort_id}, "${room.id}")'>Sá»­a</button>
                                            <button class="text-red-600 hover:underline ml-2" onclick="deleteRoom('${room.id}')">XÃ³a</button>
                                        </td>
                                    </tr>
                                `).join('') : `<tr><td colspan="5" class="text-center p-4 text-gray-500">Resort nÃ y chÆ°a cÃ³ phÃ²ng.</td></tr>`}
                            </tbody>
                        </table>
                    </div>
                `;
                container.appendChild(card);
            });
        } catch (error) {
            container.innerHTML = `<p class="text-center text-red-500">âŒ Lá»—i: ${error.message}</p>`;
        }
    }

    async function openNewResortModal() {
        const resortName = prompt("Nháº­p tÃªn resort má»›i:");
        if (resortName && resortName.trim() !== "") {
            try {
                await apiFetch('/api/admin/resorts', { method: 'POST', body: JSON.stringify({ name: resortName }) });
                fetchAndRenderAll();
                alert("âœ… Táº¡o resort thÃ nh cÃ´ng!");
            } catch (error) { 
                alert(`âŒ Lá»—i: ${error.message}`); 
            }
        }
    }

    function openRoomModal(mode, resortId, roomId = null) {
        currentMode = mode;
        const modal = document.getElementById('room-modal');
        const form = document.getElementById('room-form');
        form.reset();
        
        // LuÃ´n luÃ´n dá»n dáº¹p preview khi má»Ÿ modal
        const preview = document.getElementById('image-preview');
        preview.innerHTML = '';
        const hint = document.getElementById('image-upload-hint');
        document.getElementById('modal-error-message').textContent = '';
        document.getElementById('modal-success-message').textContent = '';
        
        if (mode === 'create') {
            document.getElementById('modal-title').textContent = 'â• ThÃªm PhÃ²ng Má»›i';
            document.getElementById('modal-submit-btn').textContent = 'âœ… ThÃªm PhÃ²ng';
            document.getElementById('room-id').value = '';
            document.getElementById('resort-id').value = resortId;
            hint.classList.add('hidden');
        } else if (mode === 'edit' && roomId) { 
            
            const roomData = ALL_ROOMS.find(room => room.id == roomId); 
            console.log("Dá»¯ liá»‡u phÃ²ng Ä‘ang sá»­a:", roomData);
            if (!roomData) {
                
                alert("Lá»—i: KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u phÃ²ng!");
                return;
            }

            document.getElementById('modal-title').textContent = `Sá»­a PhÃ²ng: ${roomData.room_type}`;
            document.getElementById('modal-submit-btn').textContent = 'LÆ°u Thay Äá»•i';
            document.getElementById('room-id').value = roomData.id;
            document.getElementById('resort-id').value = resortId;
            document.getElementById('room-type-id').value = roomData.room_type_id;
            document.getElementById('room-category').value = roomData.category;
            document.getElementById('num-bed').value = roomData.num_bed;
            document.getElementById('room-status').value = roomData.status;
            document.getElementById('room-price').value = roomData.price_per_night || '';
            document.getElementById('room-location').value = roomData.location;
            document.getElementById('room-address').value = roomData.address || '';
            document.getElementById('room-description').value = roomData.description || '';

            // ===== ğŸ“ THAY Äá»”I 2: HIá»‚N THá»Š áº¢NH CÅ¨ (ÄÃƒ Sá»¬A Lá»–I JSON) =====
Â  Â  Â  Â  Â  Â  if (roomData.images && Array.isArray(roomData.images) && roomData.images.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  let imageNames = []; // Máº£ng sáº¡ch Ä‘á»ƒ chá»©a tÃªn file

Â  Â  Â  Â  Â  Â  Â  Â  // Kiá»ƒm tra xem dá»¯ liá»‡u cÃ³ bá»‹ lá»“ng (corrupted) khÃ´ng
Â  Â  Â  Â  Â  Â  Â  Â  if (roomData.images[0].startsWith('[')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Dá»¯ liá»‡u bá»‹ lá»“ng: ["[\"file.jpg\"]"]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ChÃºng ta parse cÃ¡i chuá»—i bÃªn trong
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageNames = JSON.parse(roomData.images[0]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("KhÃ´ng thá»ƒ parse JSON lá»“ng:", e);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageNames = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Dá»¯ liá»‡u sáº¡ch: ["file.jpg"]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageNames = roomData.images;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // BÃ¢y giá», imageNames lÃ  má»™t máº£ng sáº¡ch: ['1763....jpg']
Â  Â  Â  Â  Â  Â  Â  Â  imageNames.forEach(imageName => { 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  div.className = 'image-preview-item';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Sá»­ dá»¥ng tÃªn file sáº¡ch
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  div.innerHTML = `<img src="/uploads/${imageName}" alt="áº¢nh hiá»‡n táº¡i">`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  preview.appendChild(div);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // ==========================================================
        }
        
        modal.classList.remove('hidden');
        modal.classList.add('flex');
    }

    function closeRoomModal() {
        document.getElementById('room-modal').classList.add('hidden');
    }
    
    document.getElementById('room-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        const submitBtn = document.getElementById('modal-submit-btn');
        submitBtn.disabled = true;
        submitBtn.textContent = 'â³ Äang xá»­ lÃ½...';
        
        const roomId = document.getElementById('room-id').value;
        const fd = new FormData();
        fd.append('resort_id', document.getElementById('resort-id').value);
        fd.append('room_type_id', document.getElementById('room-type-id').value);
        fd.append('category', document.getElementById('room-category').value);
        fd.append('num_bed', document.getElementById('num-bed').value.trim());
        fd.append('status', document.getElementById('room-status').value);
        fd.append('location', document.getElementById('room-location').value);
        fd.append('address', document.getElementById('room-address').value);
        fd.append('description', document.getElementById('room-description').value);
        fd.append('price_per_night', document.getElementById('room-price').value);
        const files = document.getElementById('room-images').files;
        Array.from(files).forEach(file => fd.append('images', file));

        try {
            const url = currentMode === 'create' ? '/api/admin/rooms' : `/api/admin/rooms/${roomId}`;
            const method = currentMode === 'create' ? 'POST' : 'PUT';
            await apiFetch(url, { method, body: fd });
            
            document.getElementById('modal-success-message').textContent = 
                currentMode === 'create' ? 'âœ… ThÃªm phÃ²ng thÃ nh cÃ´ng!' : 'âœ… Cáº­p nháº­t phÃ²ng thÃ nh cÃ´ng!';
            
            setTimeout(() => {
                closeRoomModal();
                fetchAndRenderAll();
            }, 1000);
        } catch (error) {
            document.getElementById('modal-error-message').textContent = 'âŒ ' + error.message;
        } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = currentMode === 'create' ? 'âœ… ThÃªm PhÃ²ng' : 'ğŸ’¾ LÆ°u Thay Äá»•i';
        }
    });

    async function deleteRoom(roomId) {
        if (confirm('âš ï¸ Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a phÃ²ng nÃ y khÃ´ng?')) {
            try {
                await apiFetch(`/api/admin/rooms/${roomId}`, { method: 'DELETE' });
                alert('âœ… XÃ³a phÃ²ng thÃ nh cÃ´ng!');
                fetchAndRenderAll();
            } catch (error) {
                alert(`âŒ Lá»—i khi xÃ³a phÃ²ng: ${error.message}`);
            }
        }
    }
    
    // HÃ m nÃ y CHá»ˆ hiá»ƒn thá»‹ áº£nh Má»šI CHá»ŒN (tá»« input file)
    document.getElementById('room-images').addEventListener('change', function(e) {
        // ChÃºng ta KHÃ”NG xÃ³a áº£nh cÅ© khi chá»n áº£nh má»›i, Ä‘á»ƒ ngÆ°á»i dÃ¹ng tháº¥y cáº£ 2
        // const preview = document.getElementById('image-preview');
        // preview.innerHTML = ''; // <-- DÃ²ng nÃ y Ä‘Ã£ bá»‹ xÃ³a trong hÃ m `openRoomModal`
        
        const preview = document.getElementById('image-preview');

        Array.from(e.target.files).forEach(file => {
            if (!file.type.startsWith('image/')) return;
            const reader = new FileReader();
            reader.onload = ev => {
                const div = document.createElement('div');
                div.className = 'image-preview-item';
                // ThÃªm 'remove-image' cho áº£nh Má»šI
                div.innerHTML = `<img src="${ev.target.result}"><div class="remove-image" onclick="this.parentElement.remove()">Ã—</div>`;
                preview.appendChild(div);
            };
            reader.readAsDataURL(file);
        });
    });

    async function fetchRoomTypes() {
Â  Â  const sel = document.getElementById('room-type-id');
Â  Â  try {
Â  Â  Â  Â  ROOM_TYPES = await apiFetch('/api/admin/room-types');
        
        // DÃ’NG NÃ€Y Sáº¼ CHO CHÃšNG TA BIáº¾T Sá»° THáº¬T
Â  Â  Â  Â  console.log("Dá»¯ liá»‡u API tráº£ vá»:", ROOM_TYPES); 

Â  Â  Â  Â  sel.innerHTML = ROOM_TYPES.map(t => `<option value="${t.id}">${t.name}</option>`).join('');
Â  Â  } catch (err) {
Â  Â  Â  Â  sel.innerHTML = '<option value="">âŒ Lá»—i táº£i loáº¡i phÃ²ng</option>';
Â  Â  }
}

    // Logout handler
    const logoutBtn = document.getElementById("logoutBtn");
    if (logoutBtn) {
        logoutBtn.addEventListener("click", () => {
            if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t khÃ´ng?")) {
                localStorage.removeItem("token");
                alert("ÄÃ£ Ä‘Äƒng xuáº¥t!");
                window.location.href = "https://resort-web.onrender.com/login.html";
            }
        });
    }

    fetchRoomTypes();
    fetchAndRenderAll();
    </script>
</body>
</html>