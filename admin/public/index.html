<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resort Admin Dashboard</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/base.css" />
    <link rel="stylesheet" href="./assets/css/layout.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="theme-blue">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar__brand">
            <span class="logo">ğŸ–ï¸</span>
            <h2>Resort</h2>
        </div>
        <nav class="nav">
            <a class="nav__item active" href="./index.html">ğŸ“Š Báº£ng Ä‘iá»u khiá»ƒn</a>
            <a class="nav__item" href="./bookings.html">ğŸ“‹ Äáº·t phÃ²ng</a>
            <a class="nav__item" href="./rooms.html">ğŸ  Chá»‰nh sá»­a phÃ²ng</a>
            <a class="nav__item" href="./customer.html">ğŸ‘¥ KhÃ¡ch hÃ ng</a>
            <a class="nav__item" href="./reports.html">ğŸ“ˆ BÃ¡o cÃ¡o</a>
            <a class="nav__item" id="logoutBtn" href="javascript:void(0)">ğŸšªÄÄƒng xuáº¥t</a>
        </nav>
    </aside>
    <!-- Main content -->
    <main class="main">
        <header class="header">
            <h1>Resort Management</h1>
            <div class="header__icons">
                <button title="ThÃ´ng bÃ¡o">ğŸ””</button>
                <button title="CÃ i Ä‘áº·t">âš™ï¸</button>
            </div>
        </header>

        <!-- Stats Cards -->
        <section class="cards">
            <!-- Ã” 1: Tá»•ng booking -->
            <div class="card blue" id="card-bookings">
                <h3>Tá»•ng lÆ°á»£t Ä‘áº·t phÃ²ng</h3>
                <p class="value" id="total-bookings">--</p>
                <p class="desc">Sá»‘ lÆ°á»£ng booking hiá»‡n cÃ³</p>
            </div>

            <!-- Ã” 2: Tá»•ng doanh thu (mÃ u xanh lÃ¡) -->
            <div class="card green" id="card-occupancy">
                <h3>Tá»•ng doanh thu</h3>
                <p class="value" id="occupancy-rate">0 VND</p>
                <p class="desc">Tá»•ng doanh thu toÃ n há»‡ thá»‘ng</p>
            </div>

            <!-- Ã” 3: Doanh thu thÃ¡ng hiá»‡n táº¡i (mÃ u cam) -->
            <div class="card orange" id="card-revenue">
                <h3>Doanh thu thÃ¡ng 10</h3>
                <p class="value" id="total-revenue">0 VND</p>
                <p class="desc">Doanh thu thÃ¡ng hiá»‡n táº¡i</p>
            </div>

            <!-- Ã” 4: KhÃ¡ch má»›i -->
            <div class="card purple" id="card-guests">
                <h3>KhÃ¡ch má»›i</h3>
                <p class="value" id="new-guests">--</p>
                <p class="desc">Trong 30 ngÃ y gáº§n nháº¥t</p>
            </div>
        </section>

        <!-- Chart -->
        <section class="chart-section">
            <h2>ğŸ“ˆ Xu hÆ°á»›ng doanh thu theo thÃ¡ng</h2>
            <canvas id="revenueChart"></canvas>
        </section>
    </main>

    <!-- JavaScript -->
    <script src="/assets/js/dashboard.js"></script>
    <script src="/assets/js/chart.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const logoutBtn = document.getElementById("logoutBtn");
            const token = localStorage.getItem("token");
            const role = localStorage.getItem("role");
            // Náº¿u chÆ°a login hoáº·c khÃ´ng pháº£i admin/staff, redirect
            if (!token || (role !== "admin" && role !== "staff")) {
            return window.location.href = "/login.html";
            }
            // Hiá»ƒn thá»‹ nÃºt logout
            logoutBtn.style.display = "";
            logoutBtn.addEventListener("click", e => {
            e.preventDefault();
            localStorage.removeItem("token");
            localStorage.removeItem("role");
            localStorage.removeItem("username");
            localStorage.removeItem("full_name");
            window.location.href = "/home.html";
            });
        });
    </script>
</body>

</html>