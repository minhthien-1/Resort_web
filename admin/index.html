<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resort Admin Dashboard</title>
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/layout.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/pages.css">
</head>
<body class="theme-blue">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar__brand">
            <div class="brand__logo">🏨</div>
            <span class="brand__name">Resort Admin</span>
        </div>
        <nav class="nav">
            <a class="nav__item nav__item--active" href="./index.html">
                <span class="nav__icon">📊</span>
                Dashboard
            </a>
            <a class="nav__item" href="./rooms.html">
                <span class="nav__icon">🏠</span>
                Quản lý phòng
            </a>
            <a class="nav__item" href="./bookings.html">
                <span class="nav__icon">📋</span>
                Booking
            </a>
            <a class="nav__item" href="./customers.html">
                <span class="nav__icon">👥</span>
                Khách hàng
            </a>
            <a class="nav__item" href="./reports.html">
                <span class="nav__icon">📈</span>
                Báo cáo
            </a>
        </nav>
        <div class="sidebar__footer">
            <a class="nav__item nav__item--logout" id="logoutBtn" href="./login.html">
                <span class="nav__icon">🚪</span>
                Đăng xuất
            </a>
        </div>
    </aside>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
        const logoutBtn = document.getElementById("logoutBtn");
        const token = localStorage.getItem("token");
        const role = localStorage.getItem("role");
        // Nếu chưa login hoặc không phải admin/staff, hide sidebar hoàn toàn
        if (!token || (role !== "admin" && role !== "staff")) {
            // redirect về trang login khách chung
            return window.location.href = "/login.html";
        }
        // Ngược lại, show nút logout
        logoutBtn.style.display = "flex";
        logoutBtn.addEventListener("click", (e) => {
            e.preventDefault();
            // Xóa token và role
            localStorage.removeItem("token");
            localStorage.removeItem("role");
            localStorage.removeItem("username");
            localStorage.removeItem("full_name");
            // Redirect về home
            window.location.href = "/home.html";
        });
    });
  
</script>


    <!-- Main Layout -->
    <div class="layout">
        <!-- Header -->
        <header class="header">
            <div class="header__left">
                <button class="btn btn--ghost btn--icon" id="btnSidebarToggle" aria-label="Toggle sidebar">
                    ☰
                </b